import{S as I,i as P,s as $,K as M,L as R,M as T,q as h,o as g,l as p,g as V,n as J,p as L,O as Q,d as b,P as W,Q as v,I as w,e as G,k as H,c as U,a as X,m as Y,b as B,J as Z,v as x,R as ee,T as te,r as ne}from"./index-4e7b459e.js";import{d as se,w as oe}from"./index-f23706ac.js";const C=Symbol("contextKey");function S(t,s,a){const n=t.slice();return n[7]=s[a],n[9]=a,n}const le=t=>({current:t&1,percentage:t&2}),q=t=>{var s;return{item:t[7],index:t[9],current:t[0].includes(t[9]),percentage:(s=t[1][t[9]])!=null?s:0}};function K(t){let s;const a=t[6].default,n=w(a,t,t[5],q);return{c(){n&&n.c()},l(e){n&&n.l(e)},m(e,c){n&&n.m(e,c),s=!0},p(e,c){n&&n.p&&(!s||c&35)&&M(n,a,e,e[5],s?T(a,e[5],c,le):R(e[5]),q)},i(e){s||(h(n,e),s=!0)},o(e){g(n,e),s=!1},d(e){n&&n.d(e)}}}function re(t){let s,a,n=t[2],e=[];for(let o=0;o<n.length;o+=1)e[o]=K(S(t,n,o));const c=o=>g(e[o],1,1,()=>{e[o]=null});return{c(){for(let o=0;o<e.length;o+=1)e[o].c();s=p()},l(o){for(let r=0;r<e.length;r+=1)e[r].l(o);s=p()},m(o,r){for(let l=0;l<e.length;l+=1)e[l].m(o,r);V(o,s,r),a=!0},p(o,[r]){if(r&39){n=o[2];let l;for(l=0;l<n.length;l+=1){const u=S(o,n,l);e[l]?(e[l].p(u,r),h(e[l],1)):(e[l]=K(u),e[l].c(),h(e[l],1),e[l].m(s.parentNode,s))}for(J(),l=n.length;l<e.length;l+=1)c(l);L()}},i(o){if(!a){for(let r=0;r<n.length;r+=1)h(e[r]);a=!0}},o(o){e=e.filter(Boolean);for(let r=0;r<e.length;r+=1)g(e[r]);a=!1},d(o){Q(e,o),o&&b(s)}}}function ae(t,s,a){let n,e,{$$slots:c={},$$scope:o}=s;const{items:r,percentages:l,maxPercentageIndices:u}=W(C);return v(t,l,i=>a(1,e=i)),v(t,u,i=>a(0,n=i)),t.$$set=i=>{"$$scope"in i&&a(5,o=i.$$scope)},[n,e,r,l,u,o,c]}class ge extends I{constructor(s){super(),P(this,s,ae,re,$,{})}}function N(t,s,a){const n=t.slice();return n[9]=s[a],n[10]=s,n[11]=a,n}const ce=t=>({current:t&4,percentage:t&2}),y=t=>{var s;return{item:t[9],index:t[11],current:t[2].includes(t[11]),percentage:(s=t[1][t[11]])!=null?s:0}};function A(t){let s,a,n,e=t[11],c;const o=t[7].default,r=w(o,t,t[6],y),l=()=>t[8](s,e),u=()=>t[8](null,e);return{c(){s=G("div"),r&&r.c(),a=H(),this.h()},l(i){s=U(i,"DIV",{class:!0,"data-index":!0});var f=X(s);r&&r.l(f),a=Y(f),f.forEach(b),this.h()},h(){B(s,"class","svt-item-wrapper"),B(s,"data-index",n=t[11])},m(i,f){V(i,s,f),r&&r.m(s,null),Z(s,a),l(),c=!0},p(i,f){t=i,r&&r.p&&(!c||f&70)&&M(r,o,t,t[6],c?T(o,t[6],f,ce):R(t[6]),y),e!==t[11]&&(u(),e=t[11],l())},i(i){c||(h(r,i),c=!0)},o(i){g(r,i),c=!1},d(i){i&&b(s),r&&r.d(i),u()}}}function ie(t){let s,a,n=t[3],e=[];for(let o=0;o<n.length;o+=1)e[o]=A(N(t,n,o));const c=o=>g(e[o],1,1,()=>{e[o]=null});return{c(){for(let o=0;o<e.length;o+=1)e[o].c();s=p()},l(o){for(let r=0;r<e.length;r+=1)e[r].l(o);s=p()},m(o,r){for(let l=0;l<e.length;l+=1)e[l].m(o,r);V(o,s,r),a=!0},p(o,[r]){if(r&79){n=o[3];let l;for(l=0;l<n.length;l+=1){const u=N(o,n,l);e[l]?(e[l].p(u,r),h(e[l],1)):(e[l]=A(u),e[l].c(),h(e[l],1),e[l].m(s.parentNode,s))}for(J(),l=n.length;l<e.length;l+=1)c(l);L()}},i(o){if(!a){for(let r=0;r<n.length;r+=1)h(e[r]);a=!0}},o(o){e=e.filter(Boolean);for(let r=0;r<e.length;r+=1)g(e[r]);a=!1},d(o){Q(e,o),o&&b(s)}}}function D(t){return Math.ceil(t*100)/100}function ue(t,s,a){let n,e,{$$slots:c={},$$scope:o}=s;const{items:r,percentages:l,maxPercentageIndices:u}=W(C);v(t,l,_=>a(1,n=_)),v(t,u,_=>a(2,e=_));let i=[];x(()=>{const k={threshold:Array.from({length:100},(m,d)=>d/100).concat(.99)},E=new IntersectionObserver(j,k);i.forEach(m=>E.observe(m));function j(m){m.forEach(d=>{const O=d.target.dataset.index,z=d.intersectionRatio;console.log(O,d);const F=d.intersectionRect.height/d.rootBounds.height;ee(l,n[O]=Math.max(D(z),D(F)),n)})}return()=>E.disconnect()});function f(_,k){te[_?"unshift":"push"](()=>{i[k]=_,a(0,i)})}return t.$$set=_=>{"$$scope"in _&&a(6,o=_.$$scope)},[i,n,e,r,l,u,o,c,f]}class me extends I{constructor(s){super(),P(this,s,ue,ie,$,{})}}function fe(t){let s;const a=t[2].default,n=w(a,t,t[1],null);return{c(){n&&n.c()},l(e){n&&n.l(e)},m(e,c){n&&n.m(e,c),s=!0},p(e,[c]){n&&n.p&&(!s||c&2)&&M(n,a,e,e[1],s?T(a,e[1],c,null):R(e[1]),null)},i(e){s||(h(n,e),s=!0)},o(e){g(n,e),s=!1},d(e){n&&n.d(e)}}}function _e(t,s,a){let{$$slots:n={},$$scope:e}=s,{items:c}=s;const o=oe([]),r=se(o,l=>{const u=Math.max(...l);return l.reduce((i,f,_)=>f===u?i.concat(_):i,[])});return ne(C,{items:c,percentages:o,maxPercentageIndices:r}),t.$$set=l=>{"items"in l&&a(0,c=l.items),"$$scope"in l&&a(1,e=l.$$scope)},[c,e,n]}class pe extends I{constructor(s){super(),P(this,s,_e,fe,$,{items:0})}}export{pe as V,ge as a,me as b};
