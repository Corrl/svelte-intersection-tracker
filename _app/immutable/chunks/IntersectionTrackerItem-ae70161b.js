import{S as v,i as D,s as F,L as K,M as N,N as Q,O as V,q as x,o as z,F as A,r as Z,v as $,R as C,E as B,I as X,Q as M,e as ee,c as te,a as ne,d as H,b as T,g as se,T as re}from"./index-6acf43bd.js";import{d as oe,w as L}from"./index-66792404.js";const G=Symbol("contextKey");function ce(e){let s;const n=e[6].default,r=K(n,e,e[5],null);return{c(){r&&r.c()},l(t){r&&r.l(t)},m(t,c){r&&r.m(t,c),s=!0},p(t,[c]){r&&r.p&&(!s||c&32)&&N(r,n,t,t[5],s?V(n,t[5],c,null):Q(t[5]),null)},i(t){s||(x(r,t),s=!0)},o(t){z(r,t),s=!1},d(t){r&&r.d(t)}}}function J(e){return Math.ceil(e*100)/100}function ie(e,s,n){let r,t=B,c=()=>(t(),t=A(i,o=>n(7,r=o)),i),u,d=B,E=()=>(d(),d=A(l,o=>n(8,u=o)),l),_,P=B,O=()=>(P(),P=A(p,o=>n(9,_=o)),p);e.$$.on_destroy.push(()=>t()),e.$$.on_destroy.push(()=>d()),e.$$.on_destroy.push(()=>P());let{$$slots:w={},$$scope:k}=s;const p=L(null);O();const l=L({});E();const i=L({});c();const m=oe(i,o=>{const a=Object.entries(o).map(([b,y])=>{const h=Object.values(y);if(h.length>0&&h.some(I=>I!==0)){const I=Math.max(...h),R=Object.entries(y).reduce((j,f)=>{const[q,Y]=f;return Y===I&&j.push(q),j},[]);return[b,R]}else return[b,[]]});return Object.fromEntries(a)});Z(G,{observer:p,intersecting:l,percentages:i,maxPercentageIds:m});let{options:g={}}=s;$(()=>{var I,R,j;if(!("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype))return;const a=(I=g.fineness)!=null?I:100,b={root:y(g.root),rootMargin:(R=g.rootMargin)!=null?R:"0px",threshold:(j=g.threshold)!=null?j:Array.from({length:a},(f,q)=>q/a).concat(1)};console.log(b);function y(f){return f instanceof Element&&f||typeof f=="string"&&document.getElementById(f)||null}C(p,_=new IntersectionObserver(S,b),_);const h=new Set([...document.querySelectorAll("[data-group]")].map(f=>f.dataset.group));for(let f of h)C(l,u[f]={},u),C(i,r[f]={},r);return()=>_.disconnect()});function S(o){o.forEach(a=>{const b=a.target,y=b.id,h=b.dataset.group;C(l,u[h][y]=a.isIntersecting,u);const I=a.intersectionRatio,R=a.intersectionRect.height/a.rootBounds.height;C(i,r[h][y]=Math.max(J(I),J(R)),r)})}return e.$$set=o=>{"options"in o&&n(4,g=o.options),"$$scope"in o&&n(5,k=o.$$scope)},[p,l,i,m,g,k,w]}class me extends v{constructor(s){super(),D(this,s,ie,ce,F,{observer:0,intersecting:1,percentages:2,maxPercentageIds:3,options:4})}get observer(){return this.$$.ctx[0]}get intersecting(){return this.$$.ctx[1]}get percentages(){return this.$$.ctx[2]}get maxPercentageIds(){return this.$$.ctx[3]}}const ue=e=>({percentage:e&2,current:e&1,isIntersecting:e&4}),U=e=>({percentage:e[1],current:e[0],isIntersecting:e[2]});function ae(e){let s;const n=e[12].default,r=K(n,e,e[11],U);return{c(){r&&r.c()},l(t){r&&r.l(t)},m(t,c){r&&r.m(t,c),s=!0},p(t,[c]){r&&r.p&&(!s||c&2055)&&N(r,n,t,t[11],s?V(n,t[11],c,ue):Q(t[11]),U)},i(t){s||(x(r,t),s=!0)},o(t){z(r,t),s=!1},d(t){r&&r.d(t)}}}function ge(e,s,n){let r,t,c,u,d,E,{$$slots:_={},$$scope:P}=s,{group:O=0}=s,{id:w}=s;const{intersecting:k,percentages:p,maxPercentageIds:l}=X(G);return M(e,k,i=>n(10,E=i)),M(e,p,i=>n(9,d=i)),M(e,l,i=>n(8,u=i)),e.$$set=i=>{"group"in i&&n(6,O=i.group),"id"in i&&n(7,w=i.id),"$$scope"in i&&n(11,P=i.$$scope)},e.$$.update=()=>{var i,m,g,S,o,a;e.$$.dirty&1216&&n(2,r=(m=(i=E[O])==null?void 0:i[w])!=null?m:!1),e.$$.dirty&704&&n(1,t=(S=(g=d[O])==null?void 0:g[w])!=null?S:0),e.$$.dirty&448&&n(0,c=(a=(o=u[O])==null?void 0:o.includes(w))!=null?a:!1)},[c,t,r,k,p,l,O,w,u,d,E,P,_]}class be extends v{constructor(s){super(),D(this,s,ge,ae,F,{group:6,id:7})}}const le=e=>({isIntersecting:e&32,percentage:e&16,current:e&8}),W=e=>({isIntersecting:e[5],percentage:e[4],current:e[3]});function fe(e){let s,n;const r=e[15].default,t=K(r,e,e[14],W);return{c(){s=ee("div"),t&&t.c(),this.h()},l(c){s=te(c,"DIV",{id:!0,"data-group":!0,class:!0});var u=ne(s);t&&t.l(u),u.forEach(H),this.h()},h(){T(s,"id",e[1]),T(s,"data-group",e[0]),T(s,"class","svelte-intersection-tracker-item")},m(c,u){se(c,s,u),t&&t.m(s,null),e[16](s),n=!0},p(c,[u]){t&&t.p&&(!n||u&16440)&&N(t,r,c,c[14],n?V(r,c[14],u,le):Q(c[14]),W),(!n||u&2)&&T(s,"id",c[1]),(!n||u&1)&&T(s,"data-group",c[0])},i(c){n||(x(t,c),n=!0)},o(c){z(t,c),n=!1},d(c){c&&H(s),t&&t.d(c),e[16](null)}}}function de(e,s,n){let r,t,c,u,d,E,_,{$$slots:P={},$$scope:O}=s;const{observer:w,intersecting:k,percentages:p,maxPercentageIds:l}=X(G);M(e,w,o=>n(13,_=o)),M(e,k,o=>n(12,E=o)),M(e,p,o=>n(11,d=o)),M(e,l,o=>n(10,u=o));let{group:i=0}=s,{id:m}=s,g;function S(o){re[o?"unshift":"push"](()=>{g=o,n(2,g)})}return e.$$set=o=>{"group"in o&&n(0,i=o.group),"id"in o&&n(1,m=o.id),"$$scope"in o&&n(14,O=o.$$scope)},e.$$.update=()=>{var o,a,b,y,h,I;e.$$.dirty&8196&&_&&_.observe(g),e.$$.dirty&4099&&n(5,r=(a=(o=E[i])==null?void 0:o[m])!=null?a:!1),e.$$.dirty&2051&&n(4,t=(y=(b=d[i])==null?void 0:b[m])!=null?y:0),e.$$.dirty&1027&&n(3,c=(I=(h=u[i])==null?void 0:h.includes(m))!=null?I:!1)},[i,m,g,c,t,r,w,k,p,l,u,d,E,_,O,P,S]}class he extends v{constructor(s){super(),D(this,s,de,fe,F,{group:0,id:1})}}export{me as I,be as a,he as b};
